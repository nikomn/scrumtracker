(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{66:function(t,e,r){"use strict";r.r(e);var n=r(0),c=r(34),a=r.n(c),s=r(17),i=r.n(s),o=r(21),j=r(15),d=r(7),l=r(67),u=r(69),b=r(12),O=r(1),h=function(t){var e=t.userstory,r=t.backlogs,c=t.addStoryToSprintBacklog,a=Object(n.useState)(""),s=Object(d.a)(a,2),i=s[0],o=s[1];return Object(O.jsxs)("div",{className:"addToSprintBacklog",children:[Object(O.jsx)("h5",{children:"Add story to Sprint backlog"}),Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),c(e,i),o("")},children:[Object(O.jsxs)("select",{id:"dropdown",value:i,onChange:function(t){var e=t.target;return o(e.value)},children:[Object(O.jsx)("option",{value:"select sprint backlog",children:"select sprint backlog"}),r.map((function(t){return Object(O.jsx)("option",{value:t.id,children:t.name},t.id)}))]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{type:"submit",children:"Add to sprintbacklog"})})]})]})},p=r(68),x=function(t){var e=t.story,r=t.updateUserStory,c=Object(n.useState)(""),a=Object(d.a)(c,2),s=a[0],i=a[1],o=Object(n.useState)(""),j=Object(d.a)(o,2),l=j[0],b=j[1];return Object(O.jsxs)("div",{className:"addUserStoryForm",children:[Object(O.jsx)("h2",{children:"Modify User Story"}),Object(O.jsx)(p.a,{onSubmit:function(t){t.preventDefault(),r(e.id,s,l),i(""),b("")},children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsx)(p.a.Label,{children:"New priority"}),Object(O.jsx)(p.a.Control,{id:"modify-priority-input",type:"number",name:"priority",value:s,placeholder:"New priority",onChange:function(t){var e=t.target;return i(e.value)}}),Object(O.jsx)(p.a.Label,{children:"New Status"}),Object(O.jsx)(p.a.Control,{id:"modify-status-input",type:"text",name:"status",value:l,placeholder:"New Status",onChange:function(t){var e=t.target;return b(e.value)}}),Object(O.jsx)(u.a,{variant:"success",type:"submit",children:"Update story"})]})})]})},f=function(t){var e=t.task;return e?Object(O.jsx)("div",{className:"task",children:Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"Task:"})," ",e.name," ",Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:"Status:"})," ",e.status]})}):null},y=function(t){var e=t.createNewTask,r=t.story,c=Object(n.useState)(""),a=Object(d.a)(c,2),s=a[0],i=a[1],o=Object(n.useState)("new"),j=Object(d.a)(o,2),l=j[0],b=j[1];return Object(O.jsxs)("div",{className:"addTaskForm",children:[Object(O.jsx)("h2",{children:"Add new Task"}),Object(O.jsx)(p.a,{onSubmit:function(t){t.preventDefault(),e({name:s,status:l},r),i(""),b("new")},children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsx)(p.a.Label,{children:"Name"}),Object(O.jsx)(p.a.Control,{id:"task-input",type:"text",name:"task",value:s,placeholder:"New task",onChange:function(t){var e=t.target;return i(e.value)}}),Object(O.jsx)(p.a.Label,{children:"Status"}),Object(O.jsx)(p.a.Control,{id:"task-status-input",type:"text",name:"status",value:l,placeholder:"Status",onChange:function(t){var e=t.target;return b(e.value)}}),Object(O.jsx)(u.a,{variant:"success",type:"submit",children:"Add new task"})]})})]})},k=function(t){var e=t.userstory,r=t.backlogs,n=t.addStoryToSprintBacklog,c=t.updateUserStory,a=t.storyView,s=t.addTaskToStory;return e?Object(O.jsx)("div",{className:"userstory",children:null!==a?Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:e.story}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"User Story:"})," ",e.story," ",Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:"Priority:"})," ",e.priority," ",Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:"Status:"})," ",e.status]}),Object(O.jsx)(x,{story:e,updateUserStory:c}),Object(O.jsx)("h2",{children:"Technical tasks"}),Object(O.jsx)(l.a,{striped:!0,hover:!0,children:Object(O.jsx)("tbody",{children:e.tasks.map((function(t){return Object(O.jsx)("tr",{children:Object(O.jsx)("td",{children:Object(O.jsx)(f,{task:t})})},t.id)}))})}),Object(O.jsx)(y,{createNewTask:s,story:e.id})]}):Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"User Story:"})," ",e.story," ",Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:"Priority:"})," ",e.priority," ",Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:"Status:"})," ",e.status]}),Object(O.jsx)(h,{userstory:e,backlogs:r,addStoryToSprintBacklog:n})]})}):null},g=function(t){var e=t.stories,r=t.deleteUserStory,n=t.backlogs,c=t.addStoryToSprintBacklog;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Product Backlog"}),Object(O.jsx)(l.a,{striped:!0,hover:!0,children:Object(O.jsx)("tbody",{children:e.map((function(t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(k,{userstory:t,backlogs:n,addStoryToSprintBacklog:c,storyView:null})}),Object(O.jsxs)("td",{children:[Object(O.jsx)("p",{children:Object(O.jsx)(b.b,{to:"/userstories/".concat(t.id),className:"btn btn-success",children:"Info"})}),Object(O.jsx)("p",{children:Object(O.jsx)(u.a,{variant:"danger",onClick:function(){return r(t.id)},children:"delete"})})]})]},t.id)}))})})]})},v=function(t){var e=t.createSprintBacklog,r=Object(n.useState)(""),c=Object(d.a)(r,2),a=c[0],s=c[1];return Object(O.jsxs)("div",{className:"createSprintBacklog",children:[Object(O.jsx)("h2",{children:"Add new Sprint backlog"}),Object(O.jsx)(p.a,{onSubmit:function(t){t.preventDefault(),e({name:a}),s("")},children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsx)(p.a.Label,{children:"Name"}),Object(O.jsx)(p.a.Control,{id:"backlog-input",type:"text",name:"backlog",value:a,placeholder:"New Sprint backlog",onChange:function(t){var e=t.target;return s(e.value)}}),Object(O.jsx)(u.a,{variant:"success",type:"submit",children:"Create"})]})})]})},S=function(t){var e=t.backlogs,r=t.createSprintBacklog;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Sprint Backlogs"}),Object(O.jsx)(l.a,{striped:!0,hover:!0,children:Object(O.jsx)("tbody",{children:e.map((function(t){return Object(O.jsx)("tr",{children:Object(O.jsx)("td",{children:Object(O.jsx)(b.b,{to:"/sprintbacklogs/".concat(t.id),children:t.name})})},t.id)}))})}),Object(O.jsx)(v,{createSprintBacklog:r})]})},m=function(t){var e=t.createNewStory,r=Object(n.useState)(""),c=Object(d.a)(r,2),a=c[0],s=c[1],i=Object(n.useState)(99),o=Object(d.a)(i,2),j=o[0],l=o[1],b=Object(n.useState)("new"),h=Object(d.a)(b,2),x=h[0],f=h[1];return Object(O.jsxs)("div",{className:"addUserStoryForm",children:[Object(O.jsx)("h2",{children:"Add new User Story"}),Object(O.jsx)(p.a,{onSubmit:function(t){t.preventDefault(),e({story:a,priority:j,status:x}),s(""),l(99),f("new")},children:Object(O.jsxs)(p.a.Group,{children:[Object(O.jsx)(p.a.Label,{children:"User Story"}),Object(O.jsx)(p.a.Control,{id:"story-input",type:"text",name:"userstory",value:a,placeholder:"New user story",onChange:function(t){var e=t.target;return s(e.value)}}),Object(O.jsx)(p.a.Label,{children:"Priority"}),Object(O.jsx)(p.a.Control,{id:"priority-input",type:"number",name:"priority",value:j,placeholder:"Priority",onChange:function(t){var e=t.target;return l(e.value)}}),Object(O.jsx)(p.a.Label,{children:"Status"}),Object(O.jsx)(p.a.Control,{id:"status-input",type:"text",name:"status",value:x,placeholder:"Status",onChange:function(t){var e=t.target;return f(e.value)}}),Object(O.jsx)(u.a,{variant:"success",type:"submit",children:"Add new story"})]})})]})},w=r(13),N=r.n(w),T="/api/userstories",B=function(){return N.a.get(T).then((function(t){return t.data}))},C=function(t){return N.a.post(T,t)},U=function(t,e){return console.log("id:",t),console.log(e),console.log("".concat(T,"/").concat(t),e),N.a.put("".concat(T,"/").concat(t),e).then((function(t){return t.data}))},L=function(t){return N.a.delete("".concat(T,"/").concat(t)).then((function(t){return t.data}))},A=function(t,e){return N.a.post("".concat(T,"/").concat(t,"/tasks"),e).then((function(t){return t.data}))},D="/api/sprintbacklogs",P=function(){return N.a.get(D).then((function(t){return t.data}))},G=function(t){return N.a.post(D,t)},V=function(t,e){return N.a.post("".concat(D,"/").concat(t,"/stories"),e).then((function(t){return t.data}))},F=r(6),I=function(t){var e=t.backlog,r=t.backlogs,n=t.addStoryToSprintBacklog,c=t.deleteUserStory;return e?Object(O.jsxs)("div",{children:[Object(O.jsxs)("h2",{children:["Sprint Backlog for ",e.name]}),Object(O.jsx)(l.a,{striped:!0,hover:!0,children:Object(O.jsx)("tbody",{children:e.userstories.map((function(t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(k,{userstory:t,backlogs:r,addStoryToSprintBacklog:n,storyView:null})}),Object(O.jsxs)("td",{children:[Object(O.jsx)("p",{children:Object(O.jsx)(b.b,{to:"/userstories/".concat(t.id),className:"btn btn-success",children:"Info"})}),Object(O.jsx)("p",{children:Object(O.jsx)(u.a,{variant:"danger",onClick:function(){return c(t.id)},children:"delete"})})]})]},t.id)}))})})]}):null},E=function(){var t=Object(n.useState)([]),e=Object(d.a)(t,2),r=e[0],c=e[1],a=Object(n.useState)([]),s=Object(d.a)(a,2),l=s[0],u=s[1];Object(n.useEffect)((function(){B().then((function(t){c(t)})),P().then((function(t){u(t)}))}),[]);var h=function(t){L(t).then((function(e){c(r.filter((function(e){return e.id!==t})))}))},p=function(){var t=Object(o.a)(i.a.mark((function t(e,r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===r){t.next=11;break}if((n=l.find((function(t){return t.id===r}))).userstories.find((function(t){return t.id===e.id}))){t.next=8;break}return t.next=5,V(r,e).then((function(t){u(l.map((function(e){return e.id!==r?e:t})))}));case 5:alert('Story "'+e.story+'" added to sprint backlog '+n.name),t.next=9;break;case 8:alert('Story "'+e.story+'" already in sprint backlog '+n.name);case 9:t.next=12;break;case 11:alert("Select backlog from the dropdown menu");case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),x=function(){var t=Object(o.a)(i.a.mark((function t(e,n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.find((function(t){return t.id===n})),t.next=3,A(n,e).then((function(t){c(r.map((function(e){return e.id!==n?e:t})))}));case 3:alert('Task "'+e.name+'" added to story '+a.story);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),f={padding:5},y=Object(F.f)("/sprintbacklogs/:id"),v=y?l.find((function(t){return t.id===y.params.id})):null,w=Object(F.f)("/userstories/:id"),N=w?r.find((function(t){return t.id===w.params.id})):null;return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(b.b,{style:f,to:"/",children:"product backlog"}),Object(O.jsx)(b.b,{style:f,to:"/sprintbacklogs",children:"sprint backlogs"})]}),Object(O.jsxs)(F.c,{children:[Object(O.jsx)(F.a,{path:"/sprintbacklogs/:id",children:Object(O.jsx)(I,{backlog:v,backlogs:l,addStoryToSprintBacklog:p,deleteUserStory:h})}),Object(O.jsx)(F.a,{path:"/userstories/:id",children:Object(O.jsx)(k,{userstory:N,backlogs:l,addStoryToSprintBacklog:p,updateUserStory:function(t,e,n){if(t){var a=r.find((function(e){return e.id===t})),s=Object(j.a)({},a);""!==e&&""===n&&(s=Object(j.a)(Object(j.a)({},a),{},{priority:e})),""===e&&""!==n&&(s=Object(j.a)(Object(j.a)({},a),{},{status:n})),""!==e&&""!==n&&(s=Object(j.a)(Object(j.a)({},a),{},{status:n,priority:e})),U(t,s).then((function(e){console.log(e),c(r.map((function(r){return r.id!==t?r:e})))}))}},storyView:"",addTaskToStory:x})}),Object(O.jsx)(F.a,{path:"/sprintbacklogs",children:Object(O.jsx)(S,{backlogs:l,createSprintBacklog:function(t){G(t).then((function(t){u(l.concat(t.data))}))}})}),Object(O.jsxs)(F.a,{path:"/",children:[Object(O.jsx)(g,{stories:r,deleteUserStory:h,backlogs:l,addStoryToSprintBacklog:p}),Object(O.jsx)(m,{createNewStory:function(t){C(t).then((function(t){c(r.concat(t.data))}))}})]})]})]})};a.a.render(Object(O.jsx)(b.a,{children:Object(O.jsx)(E,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.56080605.chunk.js.map