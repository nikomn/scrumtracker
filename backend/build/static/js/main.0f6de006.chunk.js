(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{66:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(34),a=n.n(c),s=n(17),i=n(11),o=n.n(i),d=n(18),j=n(7),l=n(67),u=n(69),b=n(13),h=n(0),O=function(e){var t=e.userstory,n=e.backlogs,c=e.addStoryToSprintBacklog,a=Object(r.useState)(""),s=Object(j.a)(a,2),i=s[0],o=s[1];return Object(h.jsxs)("div",{className:"addToSprintBacklog",children:[Object(h.jsx)("h5",{children:"Add story to Sprint backlog"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(t,i),o("")},children:[Object(h.jsxs)("select",{id:"dropdown",value:i,onChange:function(e){var t=e.target;return o(t.value)},children:[Object(h.jsx)("option",{value:"select sprint backlog",children:"select sprint backlog"}),n.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"Add to sprintbacklog"})})]})]})},p=n(68),x=function(e){var t=e.story,n=e.updateUserStory,c=Object(r.useState)(""),a=Object(j.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(t.status),d=Object(j.a)(o,2),l=d[0],b=d[1];return Object(h.jsxs)("div",{className:"addUserStoryForm",children:[Object(h.jsx)("h2",{children:"Modify User Story"}),Object(h.jsx)(p.a,{onSubmit:function(e){e.preventDefault(),n(t.id,s,l),i("")},children:Object(h.jsxs)(p.a.Group,{children:[Object(h.jsx)(p.a.Label,{children:"New priority"}),Object(h.jsx)(p.a.Control,{id:"modify-priority-input",type:"number",name:"priority",value:s,placeholder:"New priority",onChange:function(e){var t=e.target;return i(t.value)}}),Object(h.jsx)("div",{children:"New Status"}),"story"===t.type?Object(h.jsx)("p",{children:Object(h.jsxs)("select",{id:"modify-status-dropdown",value:l,onChange:function(e){var t=e.target;return b(t.value)},children:[Object(h.jsx)("option",{value:"new",children:"new"}),Object(h.jsx)("option",{value:"planned",children:"planned"}),Object(h.jsx)("option",{value:"done",children:"done"})]})}):Object(h.jsx)("p",{children:Object(h.jsxs)("select",{id:"modify-status-dropdown",value:l,onChange:function(e){var t=e.target;return b(t.value)},children:[Object(h.jsx)("option",{value:"waiting",children:"waiting"}),Object(h.jsx)("option",{value:"doing",children:"doing"}),Object(h.jsx)("option",{value:"done",children:"done"})]})}),Object(h.jsx)(u.a,{variant:"success",type:"submit",children:"Update story"})]})})]})},f=function(e){var t=e.task;return t?Object(h.jsx)("div",{className:"task",children:Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Task:"})," ",t.name," ",Object(h.jsx)("br",{}),Object(h.jsx)("b",{children:"Status:"})," ",t.status]})}):null},y=function(e){var t=e.createNewTask,n=e.story,c=Object(r.useState)(""),a=Object(j.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)("new"),d=Object(j.a)(o,2),l=d[0],b=d[1];return Object(h.jsxs)("div",{className:"addTaskForm",children:[Object(h.jsx)("h2",{children:"Add new Task"}),Object(h.jsx)(p.a,{onSubmit:function(e){e.preventDefault(),t({name:s,status:l},n),i(""),b("new")},children:Object(h.jsxs)(p.a.Group,{children:[Object(h.jsx)(p.a.Label,{children:"Name"}),Object(h.jsx)(p.a.Control,{id:"task-input",type:"text",name:"task",value:s,placeholder:"New task",onChange:function(e){var t=e.target;return i(t.value)}}),Object(h.jsx)("div",{children:"Status"}),Object(h.jsx)("p",{children:Object(h.jsxs)("select",{id:"task-status-dropdown",value:l,onChange:function(e){var t=e.target;return b(t.value)},children:[Object(h.jsx)("option",{value:"waiting",children:"waiting"}),Object(h.jsx)("option",{value:"doing",children:"doing"}),Object(h.jsx)("option",{value:"done",children:"done"})]})}),Object(h.jsx)(u.a,{variant:"success",type:"submit",children:"Add new task"})]})})]})},v=function(e){var t=e.userstory,n=e.backlogs,r=e.addStoryToSprintBacklog,c=e.updateUserStory,a=e.storyView,s=e.addTaskToStory;return t?Object(h.jsx)("div",{className:"userstory",children:null!==a?Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:t.story}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"User Story:"})," ",t.story," ",Object(h.jsx)("br",{}),Object(h.jsx)("b",{children:"Priority:"})," ",t.priority," ",Object(h.jsx)("br",{}),Object(h.jsx)("b",{children:"Status:"})," ",t.status]}),Object(h.jsx)(x,{story:t,updateUserStory:c}),Object(h.jsx)("h2",{children:"Technical tasks"}),Object(h.jsx)(l.a,{striped:!0,hover:!0,children:Object(h.jsx)("tbody",{children:t.tasks.map((function(e){return Object(h.jsx)("tr",{children:Object(h.jsx)("td",{children:Object(h.jsx)(f,{task:e})})},e.id)}))})}),Object(h.jsx)(y,{createNewTask:s,story:t.id})]}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"User Story:"})," ",t.story," ",Object(h.jsx)("br",{}),Object(h.jsx)("b",{children:"Priority:"})," ",t.priority," ",Object(h.jsx)("br",{}),Object(h.jsx)("b",{children:"Status:"})," ",t.status]}),Object(h.jsx)(O,{userstory:t,backlogs:n,addStoryToSprintBacklog:r})]})}):null},g=function(e){var t=e.stories,n=e.deleteUserStory,r=e.backlogs,c=e.addStoryToSprintBacklog,a=t.filter((function(e){return"story"===e.type}));return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Product Backlog"}),Object(h.jsx)(l.a,{striped:!0,hover:!0,children:Object(h.jsx)("tbody",{children:a.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)(v,{userstory:e,backlogs:r,addStoryToSprintBacklog:c,storyView:null})}),Object(h.jsxs)("td",{children:[Object(h.jsx)("p",{children:Object(h.jsx)(b.b,{to:"/userstories/".concat(e.id),className:"btn btn-success",children:"Info"})}),Object(h.jsx)("p",{children:Object(h.jsx)(u.a,{variant:"danger",onClick:function(){return n(e.id)},children:"delete"})})]})]},e.id)}))})})]})},k=function(e){var t=e.createSprintBacklog,n=Object(r.useState)(""),c=Object(j.a)(n,2),a=c[0],s=c[1];return Object(h.jsxs)("div",{className:"createSprintBacklog",children:[Object(h.jsx)("h2",{children:"Add new Sprint backlog"}),Object(h.jsx)(p.a,{onSubmit:function(e){e.preventDefault(),t({name:a}),s("")},children:Object(h.jsxs)(p.a.Group,{children:[Object(h.jsx)(p.a.Label,{children:"Name"}),Object(h.jsx)(p.a.Control,{id:"backlog-input",type:"text",name:"backlog",value:a,placeholder:"New Sprint backlog",onChange:function(e){var t=e.target;return s(t.value)}}),Object(h.jsx)(u.a,{variant:"success",type:"submit",children:"Create"})]})})]})},S=function(e){var t=e.backlogs,n=e.createSprintBacklog;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Sprint Backlogs"}),Object(h.jsx)(l.a,{striped:!0,hover:!0,children:Object(h.jsx)("tbody",{children:t.map((function(e){return Object(h.jsx)("tr",{children:Object(h.jsx)("td",{children:Object(h.jsx)(b.b,{to:"/sprintbacklogs/".concat(e.id),children:e.name})})},e.id)}))})}),Object(h.jsx)(k,{createSprintBacklog:n})]})},m=function(e){var t=e.createNewStory,n=Object(r.useState)(""),c=Object(j.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(99),o=Object(j.a)(i,2),d=o[0],l=o[1],b=Object(r.useState)("new"),O=Object(j.a)(b,2),x=O[0],f=O[1];return Object(h.jsxs)("div",{className:"addUserStoryForm",children:[Object(h.jsx)("h2",{children:"Add new User Story"}),Object(h.jsx)(p.a,{onSubmit:function(e){e.preventDefault(),t({story:a,priority:d,status:x,type:"story"}),s(""),l(99),f("new")},children:Object(h.jsxs)(p.a.Group,{children:[Object(h.jsx)(p.a.Label,{children:"User Story"}),Object(h.jsx)(p.a.Control,{id:"story-input",type:"text",name:"userstory",value:a,placeholder:"New user story",onChange:function(e){var t=e.target;return s(t.value)}}),Object(h.jsx)(p.a.Label,{children:"Priority"}),Object(h.jsx)(p.a.Control,{id:"priority-input",type:"number",name:"priority",value:d,placeholder:"Priority",onChange:function(e){var t=e.target;return l(t.value)}}),Object(h.jsx)("div",{children:"Status"}),Object(h.jsx)("p",{children:Object(h.jsxs)("select",{id:"status-dropdown",value:x,onChange:function(e){var t=e.target;return f(t.value)},children:[Object(h.jsx)("option",{value:"new",children:"new"}),Object(h.jsx)("option",{value:"planned",children:"planned"}),Object(h.jsx)("option",{value:"done",children:"done"})]})}),Object(h.jsx)(u.a,{variant:"success",type:"submit",children:"Add new story"})]})})]})},w=n(14),N=n.n(w),C="/api/userstories",T=function(){return N.a.get(C).then((function(e){return e.data}))},B=function(e){return N.a.post(C,e)},U=function(e,t){return console.log("id:",e),console.log(t),console.log("".concat(C,"/").concat(e),t),N.a.put("".concat(C,"/").concat(e),t).then((function(e){return e.data}))},A=function(e){return N.a.delete("".concat(C,"/").concat(e)).then((function(e){return e.data}))},L=function(e,t){return N.a.post("".concat(C,"/").concat(e,"/tasks"),t).then((function(e){return e.data}))},P="/api/sprintbacklogs",D=function(){return N.a.get(P).then((function(e){return e.data}))},G=function(e){return N.a.post(P,e)},M=function(e,t){return N.a.post("".concat(P,"/").concat(e,"/stories"),t).then((function(e){return e.data}))},F=n(6),V=function(e){var t=e.backlog,n=e.createMaintenanceStory,c=Object(r.useState)(""),a=Object(j.a)(c,2),s=a[0],i=a[1],l=Object(r.useState)(99),b=Object(j.a)(l,2),O=b[0],x=b[1],f=Object(r.useState)("new"),y=Object(j.a)(f,2),v=y[0],g=y[1],k=function(){var e=Object(d.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),n({story:s,priority:O,status:v,type:"other"},t),i(""),x(99),g("new");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"addUserStoryForm",children:[Object(h.jsx)("h2",{children:"Add maintenance story"}),Object(h.jsx)(p.a,{onSubmit:k,children:Object(h.jsxs)(p.a.Group,{children:[Object(h.jsx)(p.a.Label,{children:"User Story"}),Object(h.jsx)(p.a.Control,{id:"story-input",type:"text",name:"userstory",value:s,placeholder:"New user story",onChange:function(e){var t=e.target;return i(t.value)}}),Object(h.jsx)(p.a.Label,{children:"Priority"}),Object(h.jsx)(p.a.Control,{id:"priority-input",type:"number",name:"priority",value:O,placeholder:"Priority",onChange:function(e){var t=e.target;return x(t.value)}}),Object(h.jsx)("div",{children:"Status"}),Object(h.jsx)("p",{children:Object(h.jsxs)("select",{id:"status-dropdown",value:v,onChange:function(e){var t=e.target;return g(t.value)},children:[Object(h.jsx)("option",{value:"new",children:"new"}),Object(h.jsx)("option",{value:"planned",children:"planned"}),Object(h.jsx)("option",{value:"done",children:"done"})]})}),Object(h.jsx)(u.a,{variant:"success",type:"submit",children:"Add new story"})]})})]})},I=function(e){var t=e.backlog,n=e.backlogs,r=e.addStoryToSprintBacklog,c=e.deleteUserStory,a=e.createMaintenanceStory;return t?Object(h.jsxs)("div",{children:[Object(h.jsxs)("h2",{children:["Sprint Backlog for ",t.name]}),Object(h.jsx)(l.a,{striped:!0,hover:!0,children:Object(h.jsx)("tbody",{children:t.userstories.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)(v,{userstory:e,backlogs:n,addStoryToSprintBacklog:r,storyView:null})}),Object(h.jsxs)("td",{children:[Object(h.jsx)("p",{children:Object(h.jsx)(b.b,{to:"/userstories/".concat(e.id),className:"btn btn-success",children:"Info"})}),Object(h.jsx)("p",{children:Object(h.jsx)(u.a,{variant:"danger",onClick:function(){return c(e.id)},children:"delete"})})]})]},e.id)}))})}),Object(h.jsx)(V,{backlog:t,createMaintenanceStory:a})]}):null},E=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),i=Object(j.a)(a,2),l=i[0],u=i[1];Object(r.useEffect)((function(){T().then((function(e){c(e)})),D().then((function(e){u(e)}))}),[]);var O=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t).then((function(e){c(n.concat(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(o.a.mark((function e(t,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t).then((function(e){c(n.concat(e.data)),f(e.data,r.id)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(e){A(e).then((function(t){c(n.filter((function(t){return t.id!==e})))}))},f=function(){var e=Object(d.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),""===n){e.next=13;break}if(r=l.find((function(e){return e.id===n})),console.log(r),r.userstories.find((function(e){return e.id===t.id}))){e.next=10;break}return e.next=7,M(n,t).then((function(e){u(l.map((function(t){return t.id!==n?t:e})))}));case 7:alert('Story "'+t.story+'" added to sprint backlog '+r.name),e.next=11;break;case 10:alert('Story "'+t.story+'" already in sprint backlog '+r.name);case 11:e.next=14;break;case 13:alert("Select backlog from the dropdown menu");case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(o.a.mark((function e(t,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.find((function(e){return e.id===r})),e.next=3,L(r,t).then((function(e){c(n.map((function(t){return t.id!==r?t:e})))}));case 3:alert('Task "'+t.name+'" added to story '+a.story);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k={padding:5},w=Object(F.f)("/sprintbacklogs/:id"),N=w?l.find((function(e){return e.id===w.params.id})):null,C=Object(F.f)("/userstories/:id"),P=C?n.find((function(e){return e.id===C.params.id})):null;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(b.b,{style:k,to:"/",children:"product backlog"}),Object(h.jsx)(b.b,{style:k,to:"/sprintbacklogs",children:"sprint backlogs"})]}),Object(h.jsxs)(F.c,{children:[Object(h.jsx)(F.a,{path:"/sprintbacklogs/:id",children:Object(h.jsx)(I,{backlog:N,backlogs:l,addStoryToSprintBacklog:f,deleteUserStory:x,createMaintenanceStory:p})}),Object(h.jsx)(F.a,{path:"/userstories/:id",children:Object(h.jsx)(v,{userstory:P,backlogs:l,addStoryToSprintBacklog:f,updateUserStory:function(e,t,r){if(e){var a=n.find((function(t){return t.id===e})),i=Object(s.a)({},a);""!==t&&""===r&&(i=Object(s.a)(Object(s.a)({},a),{},{priority:t})),""===t&&""!==r&&(i=Object(s.a)(Object(s.a)({},a),{},{status:r})),""!==t&&""!==r&&(i=Object(s.a)(Object(s.a)({},a),{},{status:r,priority:t})),U(e,i).then((function(t){console.log(t),c(n.map((function(n){return n.id!==e?n:t})))}))}},storyView:"",addTaskToStory:y})}),Object(h.jsx)(F.a,{path:"/sprintbacklogs",children:Object(h.jsx)(S,{backlogs:l,createSprintBacklog:function(e){G(e).then((function(e){u(l.concat(e.data))}))}})}),Object(h.jsxs)(F.a,{path:"/",children:[Object(h.jsx)(g,{stories:n,deleteUserStory:x,backlogs:l,addStoryToSprintBacklog:f}),Object(h.jsx)(m,{createNewStory:O})]})]})]})};a.a.render(Object(h.jsx)(b.a,{children:Object(h.jsx)(E,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.0f6de006.chunk.js.map