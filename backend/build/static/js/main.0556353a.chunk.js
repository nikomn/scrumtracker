(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{39:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n(15),s=n.n(c),o=n(4),i=n(3),a=n(0),u=function(t){var e=t.userstory;return Object(a.jsx)("div",{className:"userstory",children:Object(a.jsxs)("p",{children:["User Story: ",e.story," ",Object(a.jsx)("br",{}),"Priority: ",e.priority," ",Object(a.jsx)("br",{}),"Status: ",e.status]})})},j=function(t){var e=t.stories;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Product Backlog"}),Object(a.jsx)("ul",{children:e.map((function(t){return Object(a.jsx)("li",{children:Object(a.jsx)(u,{userstory:t})},t.id)}))})]})},l=function(t){var e=t.createNewStory,n=Object(r.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1],u=Object(r.useState)(99),j=Object(i.a)(u,2),l=j[0],b=j[1],d=Object(r.useState)("new"),O=Object(i.a)(d,2),h=O[0],p=O[1];return Object(a.jsxs)("div",{className:"addUserStoryForm",children:[Object(a.jsx)("h2",{children:"Add new User Story"}),Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e({story:s,priority:l,status:h}),o(""),b(99),p("new")},children:[Object(a.jsx)("label",{children:"User Story"}),Object(a.jsx)("input",{id:"story-input",type:"text",value:s,onChange:function(t){var e=t.target;return o(e.value)}}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Priority"}),Object(a.jsx)("input",{id:"priority-input",type:"number",value:l,onChange:function(t){var e=t.target;return b(e.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Status"}),Object(a.jsx)("input",{id:"status-input",type:"text",value:h,onChange:function(t){var e=t.target;return p(e.value)}})]}),Object(a.jsx)("button",{type:"submit",children:"Add new story"})]})]})},b=function(t){var e=t.stories,n=t.updateUserStory,c=Object(r.useState)(""),s=Object(i.a)(c,2),o=s[0],u=s[1],j=Object(r.useState)(""),l=Object(i.a)(j,2),b=l[0],d=l[1],O=Object(r.useState)(""),h=Object(i.a)(O,2),p=h[0],y=h[1];return Object(a.jsxs)("div",{className:"addUserStoryForm",children:[Object(a.jsx)("h2",{children:"Modify User Story"}),Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r=e.filter((function(t){return t.story.toLowerCase()===o.toLowerCase()}));if(console.log(r),r[0]){var c=r[0].id;n(c,b,p)}u(""),d(""),y("")},children:[Object(a.jsx)("label",{children:"User Story to modify"}),Object(a.jsx)("input",{id:"story-input",type:"text",value:o,onChange:function(t){var e=t.target;return u(e.value)}}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"New priority"}),Object(a.jsx)("input",{id:"priority-input",type:"number",value:b,onChange:function(t){var e=t.target;return d(e.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"New Status"}),Object(a.jsx)("input",{id:"status-input",type:"text",value:p,onChange:function(t){var e=t.target;return y(e.value)}})]}),Object(a.jsx)("button",{type:"submit",children:"Update story"})]})]})},d=n(5),O=n.n(d),h="/api/userstories",p=function(){return O.a.get(h).then((function(t){return t.data}))},y=function(t){return O.a.post(h,t)},x=function(t,e){return console.log("id:",t),console.log(e),console.log("".concat(h,"/").concat(t),e),O.a.put("".concat(h,"/").concat(t),e).then((function(t){return t.data}))},f=function(){var t=Object(r.useState)([]),e=Object(i.a)(t,2),n=e[0],c=e[1];Object(r.useEffect)((function(){p().then((function(t){c(t)}))}),[]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Scrum Tracker app"}),Object(a.jsx)(j,{stories:n}),Object(a.jsx)(l,{createNewStory:function(t){y(t).then((function(t){c(n.concat(t.data))}))}}),Object(a.jsx)(b,{stories:n,updateUserStory:function(t,e,r){console.log("id:",t),console.log("newPriority:",e),console.log("newStatus:",r);var s=n.find((function(e){return e.id===t})),i=Object(o.a)({},s);""===e&&""===r&&console.log("No changes made!"),""!==e&&""===r&&(console.log("Changing priority"),i=Object(o.a)(Object(o.a)({},s),{},{priority:e})),""===e&&""!==r&&(console.log("Changing status"),i=Object(o.a)(Object(o.a)({},s),{},{status:r})),""!==e&&""!==r&&(console.log("Changing priority and status"),i=Object(o.a)(Object(o.a)({},s),{},{status:r,priority:e})),x(t,i).then((function(e){console.log(e),c(n.map((function(n){return n.id!==t?n:e})))}))}})]})};s.a.render(Object(a.jsx)(f,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.0556353a.chunk.js.map