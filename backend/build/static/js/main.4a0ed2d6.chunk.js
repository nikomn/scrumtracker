(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{39:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n(15),o=n.n(c),i=n(4),s=n(3),a=n(0),u=function(t){var e=t.userstory;return Object(a.jsx)("div",{className:"userstory",children:Object(a.jsxs)("p",{children:["User Story: ",e.story," ",Object(a.jsx)("br",{}),"Priority: ",e.priority," ",Object(a.jsx)("br",{}),"Status: ",e.status]})})},j=function(t){var e=t.stories,n=t.deleteUserStory;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Product Backlog"}),Object(a.jsx)("ul",{children:e.map((function(t){return Object(a.jsxs)("li",{children:[Object(a.jsx)(u,{userstory:t}),Object(a.jsx)("button",{onClick:function(){return n(t.id)},children:"delete"})]},t.id)}))})]})},l=function(t){var e=t.createNewStory,n=Object(r.useState)(""),c=Object(s.a)(n,2),o=c[0],i=c[1],u=Object(r.useState)(99),j=Object(s.a)(u,2),l=j[0],d=j[1],b=Object(r.useState)("new"),O=Object(s.a)(b,2),f=O[0],h=O[1];return Object(a.jsxs)("div",{className:"addUserStoryForm",children:[Object(a.jsx)("h2",{children:"Add new User Story"}),Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e({story:o,priority:l,status:f}),i(""),d(99),h("new")},children:[Object(a.jsx)("label",{children:"User Story"}),Object(a.jsx)("input",{id:"story-input",type:"text",value:o,onChange:function(t){var e=t.target;return i(e.value)}}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Priority"}),Object(a.jsx)("input",{id:"priority-input",type:"number",value:l,onChange:function(t){var e=t.target;return d(e.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Status"}),Object(a.jsx)("input",{id:"status-input",type:"text",value:f,onChange:function(t){var e=t.target;return h(e.value)}})]}),Object(a.jsx)("button",{type:"submit",children:"Add new story"})]})]})},d=function(t){var e=t.stories,n=t.updateUserStory,c=Object(r.useState)(""),o=Object(s.a)(c,2),i=o[0],u=o[1],j=Object(r.useState)(""),l=Object(s.a)(j,2),d=l[0],b=l[1],O=Object(r.useState)(""),f=Object(s.a)(O,2),h=f[0],y=f[1];return Object(a.jsxs)("div",{className:"addUserStoryForm",children:[Object(a.jsx)("h2",{children:"Modify User Story"}),Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r=e.filter((function(t){return t.story.toLowerCase()===i.toLowerCase()}));if(r[0]){var c=r[0].id;n(c,d,h)}else n(null,d,h);u(""),b(""),y("")},children:[Object(a.jsx)("label",{children:"User Story to modify"}),Object(a.jsx)("input",{id:"modify-story-input",type:"text",value:i,onChange:function(t){var e=t.target;return u(e.value)}}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"New priority"}),Object(a.jsx)("input",{id:"modify-priority-input",type:"number",value:d,onChange:function(t){var e=t.target;return b(e.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"New Status"}),Object(a.jsx)("input",{id:"modify-status-input",type:"text",value:h,onChange:function(t){var e=t.target;return y(e.value)}})]}),Object(a.jsx)("button",{type:"submit",children:"Update story"})]})]})},b=n(5),O=n.n(b),f="/api/userstories",h=function(){return O.a.get(f).then((function(t){return t.data}))},y=function(t){return O.a.post(f,t)},p=function(t,e){return console.log("id:",t),console.log(e),console.log("".concat(f,"/").concat(t),e),O.a.put("".concat(f,"/").concat(t),e).then((function(t){return t.data}))},x=function(t){return O.a.delete("".concat(f,"/").concat(t)).then((function(t){return t.data}))},v=function(){var t=Object(r.useState)([]),e=Object(s.a)(t,2),n=e[0],c=e[1];Object(r.useEffect)((function(){h().then((function(t){c(t)}))}),[]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Scrum Tracker app"}),Object(a.jsx)(j,{stories:n,deleteUserStory:function(t){console.log("Story "+t+" will be removed..."),x(t).then((function(e){c(n.filter((function(e){return e.id!==t})))}))}}),Object(a.jsx)(l,{createNewStory:function(t){y(t).then((function(t){c(n.concat(t.data))}))}}),Object(a.jsx)(d,{stories:n,updateUserStory:function(t,e,r){if(console.log("id:",t),console.log("newPriority:",e),console.log("newStatus:",r),t){var o=n.find((function(e){return e.id===t})),s=Object(i.a)({},o);""===e&&""===r&&console.log("No changes made!"),""!==e&&""===r&&(console.log("Changing priority"),s=Object(i.a)(Object(i.a)({},o),{},{priority:e})),""===e&&""!==r&&(console.log("Changing status"),s=Object(i.a)(Object(i.a)({},o),{},{status:r})),""!==e&&""!==r&&(console.log("Changing priority and status"),s=Object(i.a)(Object(i.a)({},o),{},{status:r,priority:e})),p(t,s).then((function(e){console.log(e),c(n.map((function(n){return n.id!==t?n:e})))}))}}})]})};o.a.render(Object(a.jsx)(v,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.4a0ed2d6.chunk.js.map