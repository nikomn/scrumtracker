(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{63:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(32),a=n.n(c),s=n(14),o=n(8),i=n(64),j=n(66),l=n(1),u=function(t){var e=t.userstory;return Object(l.jsx)("div",{className:"userstory",children:Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"User Story:"})," ",e.story," ",Object(l.jsx)("br",{}),Object(l.jsx)("b",{children:"Priority:"})," ",e.priority," ",Object(l.jsx)("br",{}),Object(l.jsx)("b",{children:"Status:"})," ",e.status]})})},d=function(t){var e=t.stories,n=t.deleteUserStory;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Product Backlog"}),Object(l.jsx)(i.a,{striped:!0,hover:!0,children:Object(l.jsx)("tbody",{children:e.map((function(t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)(u,{userstory:t})}),Object(l.jsx)("td",{children:Object(l.jsx)(j.a,{variant:"danger",size:"lg",onClick:function(){return n(t.id)},children:"delete"})})]},t.id)}))})})]})},b=n(15),O=n(65),h=function(t){var e=t.createSprintBacklog,n=Object(r.useState)(""),c=Object(o.a)(n,2),a=c[0],s=c[1];return Object(l.jsxs)("div",{className:"createSprintBacklog",children:[Object(l.jsx)("h2",{children:"Add new Sprint backlog"}),Object(l.jsx)(O.a,{onSubmit:function(t){t.preventDefault(),e({name:a}),s("")},children:Object(l.jsxs)(O.a.Group,{children:[Object(l.jsx)(O.a.Label,{children:"Name"}),Object(l.jsx)(O.a.Control,{id:"backlog-input",type:"text",name:"backlog",value:a,placeholder:"New Sprint backlog",onChange:function(t){var e=t.target;return s(e.value)}}),Object(l.jsx)(j.a,{variant:"success",type:"submit",children:"Create"})]})})]})},p=function(t){var e=t.backlogs,n=t.createSprintBacklog;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Sprint Backlogs"}),Object(l.jsx)(i.a,{striped:!0,hover:!0,children:Object(l.jsx)("tbody",{children:e.map((function(t){return Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:Object(l.jsx)(b.b,{to:"/sprintbacklogs/".concat(t.id),children:t.name})})},t.id)}))})}),Object(l.jsx)(h,{createSprintBacklog:n})]})},x=function(t){var e=t.createNewStory,n=Object(r.useState)(""),c=Object(o.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(99),u=Object(o.a)(i,2),d=u[0],b=u[1],h=Object(r.useState)("new"),p=Object(o.a)(h,2),x=p[0],f=p[1];return Object(l.jsxs)("div",{className:"addUserStoryForm",children:[Object(l.jsx)("h2",{children:"Add new User Story"}),Object(l.jsx)(O.a,{onSubmit:function(t){t.preventDefault(),e({story:a,priority:d,status:x}),s(""),b(99),f("new")},children:Object(l.jsxs)(O.a.Group,{children:[Object(l.jsx)(O.a.Label,{children:"User Story"}),Object(l.jsx)(O.a.Control,{id:"story-input",type:"text",name:"userstory",value:a,placeholder:"New user story",onChange:function(t){var e=t.target;return s(e.value)}}),Object(l.jsx)(O.a.Label,{children:"Priority"}),Object(l.jsx)(O.a.Control,{id:"priority-input",type:"number",name:"priority",value:d,placeholder:"Priority",onChange:function(t){var e=t.target;return b(e.value)}}),Object(l.jsx)(O.a.Label,{children:"Status"}),Object(l.jsx)(O.a.Control,{id:"status-input",type:"text",name:"status",value:x,placeholder:"Status",onChange:function(t){var e=t.target;return f(e.value)}}),Object(l.jsx)(j.a,{variant:"success",type:"submit",children:"Add new story"})]})})]})},f=function(t){var e=t.stories,n=t.updateUserStory,c=Object(r.useState)(""),a=Object(o.a)(c,2),s=a[0],i=a[1],u=Object(r.useState)(""),d=Object(o.a)(u,2),b=d[0],h=d[1],p=Object(r.useState)(""),x=Object(o.a)(p,2),f=x[0],y=x[1];return Object(l.jsxs)("div",{className:"addUserStoryForm",children:[Object(l.jsx)("h2",{children:"Modify User Story"}),Object(l.jsx)(O.a,{onSubmit:function(t){t.preventDefault();var r=e.filter((function(t){return t.story.toLowerCase()===s.toLowerCase()}));if(r[0]){var c=r[0].id;n(c,b,f)}else n(null,b,f);i(""),h(""),y("")},children:Object(l.jsxs)(O.a.Group,{children:[Object(l.jsx)(O.a.Label,{children:"User Story to modify"}),Object(l.jsx)(O.a.Control,{id:"modify-story-input",type:"text",name:"userstory",value:s,placeholder:"User Story to modify",onChange:function(t){var e=t.target;return i(e.value)}}),Object(l.jsx)(O.a.Label,{children:"New priority"}),Object(l.jsx)(O.a.Control,{id:"modify-priority-input",type:"number",name:"priority",value:b,placeholder:"New priority",onChange:function(t){var e=t.target;return h(e.value)}}),Object(l.jsx)(O.a.Label,{children:"New Status"}),Object(l.jsx)(O.a.Control,{id:"modify-status-input",type:"text",name:"status",value:f,placeholder:"New Status",onChange:function(t){var e=t.target;return y(e.value)}}),Object(l.jsx)(j.a,{variant:"success",type:"submit",children:"Update story"})]})})]})},y=n(13),g=n.n(y),v="/api/userstories",S=function(){return g.a.get(v).then((function(t){return t.data}))},m=function(t){return g.a.post(v,t)},k=function(t,e){return console.log("id:",t),console.log(e),console.log("".concat(v,"/").concat(t),e),g.a.put("".concat(v,"/").concat(t),e).then((function(t){return t.data}))},C=function(t){return g.a.delete("".concat(v,"/").concat(t)).then((function(t){return t.data}))},w="/api/sprintbacklogs",N=function(){return g.a.get(w).then((function(t){return t.data}))},U=function(t){return g.a.post(w,t)},B=n(6),L=function(t){var e=t.backlog;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("h2",{children:["Sprint Backlog for ",e.name]}),Object(l.jsx)(i.a,{striped:!0,hover:!0,children:Object(l.jsx)("tbody",{children:e.userstories.map((function(t){return Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:Object(l.jsx)(u,{userstory:t})})},t.id)}))})})]})},P=function(){var t=Object(r.useState)([]),e=Object(o.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)([]),i=Object(o.a)(a,2),j=i[0],u=i[1];Object(r.useEffect)((function(){S().then((function(t){c(t)})),N().then((function(t){u(t)}))}),[]);var O={padding:5},h=Object(B.f)("/sprintbacklogs/:id"),y=h?j.find((function(t){return t.id===h.params.id})):null;return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)(b.b,{style:O,to:"/",children:"product backlog"}),Object(l.jsx)(b.b,{style:O,to:"/sprintbacklogs",children:"sprint backlogs"})]}),Object(l.jsxs)(B.c,{children:[Object(l.jsx)(B.a,{path:"/sprintbacklogs/:id",children:Object(l.jsx)(L,{backlog:y})}),Object(l.jsx)(B.a,{path:"/sprintbacklogs",children:Object(l.jsx)(p,{backlogs:j,createSprintBacklog:function(t){U(t).then((function(t){u(j.concat(t.data))}))}})}),Object(l.jsxs)(B.a,{path:"/",children:[Object(l.jsx)(d,{stories:n,deleteUserStory:function(t){console.log("Story "+t+" will be removed..."),C(t).then((function(e){c(n.filter((function(e){return e.id!==t})))}))}}),Object(l.jsx)(x,{createNewStory:function(t){m(t).then((function(t){c(n.concat(t.data))}))}}),Object(l.jsx)(f,{stories:n,updateUserStory:function(t,e,r){if(console.log("id:",t),console.log("newPriority:",e),console.log("newStatus:",r),t){var a=n.find((function(e){return e.id===t})),o=Object(s.a)({},a);""===e&&""===r&&console.log("No changes made!"),""!==e&&""===r&&(console.log("Changing priority"),o=Object(s.a)(Object(s.a)({},a),{},{priority:e})),""===e&&""!==r&&(console.log("Changing status"),o=Object(s.a)(Object(s.a)({},a),{},{status:r})),""!==e&&""!==r&&(console.log("Changing priority and status"),o=Object(s.a)(Object(s.a)({},a),{},{status:r,priority:e})),k(t,o).then((function(e){console.log(e),c(n.map((function(n){return n.id!==t?n:e})))}))}}})]})]})]})};a.a.render(Object(l.jsx)(b.a,{children:Object(l.jsx)(P,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.2586762d.chunk.js.map